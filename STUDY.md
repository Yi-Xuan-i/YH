开发原则
---
1. **单一职责原则（SRP）**：
   - 一个类应该只有一个引起变化的原因，即一个类应该只负责一项功能。
2. **开放封闭原则（OCP）**：
   - 软件实体（类、模块、函数等）应当对扩展开放，对修改封闭。
3. **里氏替换原则（LSP）**：
   - 子类应当可以替换父类并出现在父类能够出现的任何地方，即子类应保持父类的行为。
4. **接口隔离原则（ISP）**：
   - 客户端不应依赖它不需要的接口，即一个类对另一个类的依赖应该建立在最小的接口上。
5. **依赖倒置原则（DIP）**：
   - 高层模块不应依赖低层模块，两者都应该依赖抽象；抽象不应依赖细节，细节应该依赖抽象。
6. **迪米特法则（Law of Demeter，LoD）**：
   - 一个对象应该对其他对象有尽可能少的了解，即减少对象之间的耦合。
7. **组合复用原则（CRP）**：
   - 尽量使用组合而不是继承来达到复用。

项目开发规范
---
①分层对应关系：
- 控制层（Controller）与业务层（Service）一一对应。
- 业务层（Service）与数据传输对象映射层（MapStruct）一一对应。
- 数据层（Mapper）根据操作类型划分为：
  - 业务数据层：负责跨表业务逻辑操作。
  - 基础数据层：负责单表基础数据操作。

②数据暴露原则：  
- 避免在实体类（Entity）中直接使用 @Data 注解，除非该实体类的所有属性均需对外暴露。

③接口参数一致性：
- 控制层接口与业务层方法采用相同的请求（Request）和响应（Response）参数。

④数据层方法规范：
- 数据层方法的接收参数和返回值统一使用实体类（Entity）。

微服务粒度分解因素
---
- 服务范畴及功能<br>
服务是否做了太多互不相干的事？
- 代码易变性<br>
变化是否只局限于服务的某一部分？
- 可伸缩性和吞吐量<br>
服务的不同部分是否需要不同的规模？
- 容错性<br>
服务中是否存在导致导致关键功能失败的错误？
- 安全性<br>
服务的某些部分是否需要比其他部分更高的安全级别？
- 可扩展性<br>
服务是否一直在扩展以添加新的上下文？

微服务粒度集成因素
---
- 数据库事务<br>
不同服务之间是否需要ACID事务？
- 工作流和协作<br>
服务之间是否需要交互？
- 共享代码<br>
服务之间是否需要共享代码？
- 数据关系<br>
虽然服务可以拆分，但它使用的数据也可以拆分吗？

积累
---
1. 如果数据表中的数据量非常小,全表扫描可能比使用索引更快,所以使用explain可能显示没有使用索引。
2. openfeign 3.1.2没有引入ribbon了，官方推荐使用loadbalancer，
   spring-cloud 2020版本以后移除了Netflix依赖，其中的ribbon也被移除。
3. javax.xml.bind 在jdk8中有，更高版本没有，需要手动引入，否则使用io.jsonwebtoken会报错。
4. spring-cloud-dependencies 2020.0.0 版本不在默认加载bootstrap文件，
   不引入这个包则无法读取到nacos中的配置文件。
5. lettuce的方案是将连接池里处于空闲（idle）状态的client每隔一段时间就主动断开，然后再重新连接。
6. 自定义配置怎么出现提示呢？使用spring-boot-configuration-processor实现，其作用是生产配置元数据。
7. 默认情况下，@ConfigurationProperties会从application.yml或application.properties文件中加载属性。
   @PropertySource注解并不支持.yml文件。但我们可以在application.yml中通过spring.config.import来引入yml文件。
8. Jenkins通过shell脚本启动项目的话最终进程会被杀死， 因为jenkins默认会自动终止产生的进程, 
   可以通过在“从节点配置”中设置环境变量 BUILD_ID=dontKillMe 来解决。
9. jjwt在生成令牌时会把密钥进行base64-decode操作，如果密钥的长度不是四的倍数，会舍去部分字符，
   即如果是yxxhyh，则舍去部分字符后会变成yxxh。
